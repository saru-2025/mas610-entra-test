name: ðŸ” Test Azure Login

on:
  workflow_dispatch:  # allows you to run it manually

jobs:
  login-test:
    runs-on: ubuntu-latest
    steps:
      - name: Azure Login
        uses: azure/login@v1
        with:
          creds: >
            {
              "clientId": "${{ secrets.SPCLIENTID }}",
              "clientSecret": "${{ secrets.SPSECRET}}",
              "tenantId": "${{ secrets.TENANTID }}",
              "subscriptionId": "${{ secrets.SUBSCRPTION}}"
            }

      - name: Check Azure Context
        run: az account show
